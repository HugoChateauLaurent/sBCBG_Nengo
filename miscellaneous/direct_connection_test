import nengo
from nengo.dists import Uniform
import numpy as np

model = nengo.Network()

with model:
    s_a = nengo.Node(0)
    s_b = nengo.Node(size_in = 1)
    nengo.Connection(s_a,s_b, transform = np.ones((1,1))*-1)
    
    N_a = 4
    N_b = 2
    ens_a = nengo.Ensemble(N_a, 1, max_rates=Uniform(50,50), intercepts=Uniform(-.5, -.5))
    ens_b = nengo.Ensemble(N_b, 1, max_rates=Uniform(50,50), intercepts=Uniform(-.5, -.5))

    weights = np.asarray([[1 if i==0 else -100 for j in range(N_a)] for i in range (N_b)])
    nengo.Connection(s_b, ens_a.neurons, transform = np.ones((N_a, 1))*-1)
    nengo.Connection(ens_a.neurons, ens_b.neurons, transform = np.array(weights))
    
